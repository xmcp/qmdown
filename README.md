# QMdown
通过iFile网页服务器下载iOS版QQ音乐的已缓存歌曲

## 为什么要这个东西？

如果你想把QQ音乐上的歌保存到本地，你可能会访问网页版的QQ音乐（y.qq.com）然后抓包保存。
然而网页版QQ音乐的试听音质只有不到2MB一首的水平，惨不忍睹。

但是你发现，手机版QQ音乐把歌曲缓存到本地后，音质可以达到10MB每首的水平，虽然不如无损，但至少能听了。

iOS平台上QQ音乐的本地缓存文件的位置记录在`Documents/qqmusic.sqlite`数据库中，
只要在里面`select`出来要找的歌，就能保存到本地了。
（QQ音乐会把`.mp3`扩展名替换成`.tm3`或者`.tm0`，这点需要注意下）

因为我觉得每次想下歌都这么做很麻烦，所以就弄了这个工具，利用手机上iFile的网页服务器功能，
自动完成找到缓存位置、查询数据库、下载音乐、改扩展名的过程。

## 所以怎么用？

- 依赖：`requests`、`BeautifulSoup4`和安装了iFile和QQ音乐的iDevice（iOS设备）。
- 在 iDevice 上打开iFile的网页服务器功能。
- 在电脑上打开`qmdown.pyw`，输入iFile服务器的网址和访问密码（如果有）。
- 点击“连接”按钮，程序会按照歌手进行分类，显示出你缓存的所有歌曲。
- 找到你要下载的歌曲，双击之。

![Screenshot](https://cloud.githubusercontent.com/assets/6646473/15251510/6f251f4e-195c-11e6-80b6-9961f043dffa.png)
 
